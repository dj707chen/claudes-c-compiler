Task: Fix ternary operator truncating long double to double precision
Status: in_progress
Started: 2026-01-27

Problem: The emit_ternary_branch helper in IR lowering used a hardcoded
IrType::I64 (8-byte) alloca for storing the ternary result. When the
common type of the two branches was long double (IrType::F128, 16 bytes)
or __int128, the value was truncated to 64 bits, losing precision.

Fix: Pass the computed common_type through to emit_ternary_branch and
use it for the alloca size and Store/Load types. For types larger than
8 bytes (F128, I128, U128), use the actual type; otherwise keep I64.
