Task: Fix narrowing integer casts and type-aware function return handling

Problem:
1. On x86-64, narrowing casts (e.g., long -> int) are treated as no-ops, but since
   all values are stored as 64-bit movq, the upper bits are preserved incorrectly.
   This causes wrong values when a narrowed int is compared as 64-bit.

2. Function return values are always treated as I64, so when a function returns int,
   the full 64-bit rax is preserved without truncation/sign-extension.

3. ARM and RISC-V backends also need narrowing cast fixes for consistency.

Fix:
- x86: Add proper narrowing in emit_cast (sign-extend/zero-extend the narrowed value)
- ARM/RISC-V: Verify narrowing is correct
- This should fix hundreds of "wrong return code" test failures including type casting,
  unsigned type handling, and implicit conversion tests.

Status: In progress
