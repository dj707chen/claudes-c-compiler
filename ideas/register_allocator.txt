Implement a register allocator:

Current codegen uses a stack-based approach where every value is stored
on the stack. This is correct but very slow.

Implement a linear scan or graph coloring register allocator:
1. Build live intervals for each IR value
2. Allocate registers using the chosen algorithm
3. Insert spill/reload code for values that don't fit in registers
4. Handle calling conventions (caller/callee-saved registers)

This will dramatically improve code quality and runtime performance.
